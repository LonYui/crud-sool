# crud-sool
這是一個基於 Solidity 的合約，名為 CRUD。這個合約包含了四個函數：C、R、U、D，它們分別對應到創建、讀取、更新和刪除。使用者的資料由結構 User 表示，其中包括帳號、密碼、狀態、創建時間、更新時間、銀行、地點和備註等欄位。使用者資料以一個 mapping 變數 users 儲存，帳號字串作為索引值。此外，還有一個 accounts 的字串陣列用來保存所有已經存在的使用者帳號，以便於遍歷所有使用者。以下是各個函數的功能介紹：

- 函數 C：用於新增使用者。如果使用者帳號已經存在，則會拋出錯誤。否則，函數會在 users 中添加一個新的 User 結構，並將帳號、密碼、狀態、銀行、地點、備註等欄位填入。同時，它會在 accounts 陣列中新增一個新的帳號。
- 函數 R：用於查詢使用者。根據傳入的各個參數，函數會從 users 中選出符合條件的 User 結構，並以 User 陣列的形式返回。如果傳入的參數皆為空，則函數會返回所有使用者的資料。
- 函數 U：用於更新使用者。如果使用者不存在，則會拋出錯誤。否則，函數會根據傳入的參數，更新 users 中對應帳號的 User 結構。
- 函數 D：用於刪除使用者。如果使用者不存在，則會拋出錯誤。否則，函數會將 users 中對應帳號的狀態欄位設為 null。

此外，還有一個私有函數 indexOf，用於在 accounts 陣列中查找特定帳號的位置。如果找到，則返回索引值；否則，返回 2^32 - 1。


